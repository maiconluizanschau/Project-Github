{"ast":null,"code":"var _jsxFileName = \"/home/maicon/\\xC1rea de Trabalho/Area de Trabalho/Projetos/React-Projects/projeto-github/src/pages/Main/index.js\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { FaGithub, FaPlus, FaSpinner, FaBars, FaTrash } from 'react-icons/fa';\nimport { Container, Form, SubmitButton, List, DeleteButton } from './styles';\nimport { Link } from 'react-router-dom';\nimport api from '../../services/api';\nexport default function Main() {\n  const [newRepo, setNewRepo] = useState('');\n  const [repositorios, setRepositorios] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState(null); // Buscar\n\n  useEffect(() => {\n    const repoStorage = localStorage.getItem('repos');\n\n    if (repoStorage) {\n      setRepositorios(JSON.parse(repoStorage));\n    }\n  }, []); // Salvar alterações\n\n  useEffect(() => {\n    localStorage.setItem('repos', JSON.stringify(repositorios));\n  }, [repositorios]);\n  const handleSubmit = useCallback(e => {\n    e.preventDefault();\n\n    async function submit() {\n      setLoading(true);\n      setAlert(null);\n\n      try {\n        if (newRepo === '') {\n          throw new Error('Você precisa indicar um repositorio!');\n        }\n\n        const response = await api.get(`repos/${newRepo}`);\n        const hasRepo = repositorios.find(repo => repo.name === newRepo);\n\n        if (hasRepo) {\n          throw new Error('Repositorio Duplicado');\n        }\n\n        const data = {\n          name: response.data.full_name\n        };\n        setRepositorios([...repositorios, data]);\n        setNewRepo('');\n      } catch (error) {\n        setAlert(true);\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    submit();\n  }, [newRepo, repositorios]);\n\n  function handleinputChange(e) {\n    setNewRepo(e.target.value);\n    setAlert(null);\n  }\n\n  const handleDelete = useCallback(repo => {\n    const find = repositorios.filter(r => r.name !== repo);\n    setRepositorios(find);\n  }, [repositorios]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FaGithub, {\n    size: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), \"Meus Repositorios\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    error: alert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Adicionar Repositorios\",\n    value: newRepo,\n    onChange: handleinputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SubmitButton, {\n    loading: loading ? 1 : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(FaSpinner, {\n    color: \"#FFF\",\n    size: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(FaPlus, {\n    color: \"#FFF\",\n    size: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, repositorios.map(repo => /*#__PURE__*/React.createElement(\"li\", {\n    key: repo.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(DeleteButton, {\n    onClick: () => handleDelete(repo.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(FaTrash, {\n    size: 14,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })), repo.name), /*#__PURE__*/React.createElement(Link, {\n    to: `/repositorio/${encodeURIComponent(repo.name)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(FaBars, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 16\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/maicon/Área de Trabalho/Area de Trabalho/Projetos/React-Projects/projeto-github/src/pages/Main/index.js"],"names":["React","useState","useCallback","useEffect","FaGithub","FaPlus","FaSpinner","FaBars","FaTrash","Container","Form","SubmitButton","List","DeleteButton","Link","api","Main","newRepo","setNewRepo","repositorios","setRepositorios","loading","setLoading","alert","setAlert","repoStorage","localStorage","getItem","JSON","parse","setItem","stringify","handleSubmit","e","preventDefault","submit","Error","response","get","hasRepo","find","repo","name","data","full_name","error","console","log","handleinputChange","target","value","handleDelete","filter","r","map","encodeURIComponent"],"mappings":"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","sourcesContent":["import React, {useState, useCallback, useEffect} from 'react';\nimport { FaGithub, FaPlus, FaSpinner, FaBars, FaTrash } from 'react-icons/fa';\nimport {Container, Form, SubmitButton, List, DeleteButton} from './styles';\nimport {Link} from 'react-router-dom';\nimport api from '../../services/api';\n\nexport default function Main(){\n\n  const [newRepo, setNewRepo] = useState('');\n  const [repositorios, setRepositorios] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState(null);\n\n  // Buscar\n  useEffect(()=>{\n    const repoStorage = localStorage.getItem('repos');\n\n    if(repoStorage){\n      setRepositorios(JSON.parse(repoStorage));\n    }\n\n  }, []);\n\n  \n  // Salvar alterações\n  useEffect(()=>{\n    localStorage.setItem('repos', JSON.stringify(repositorios));\n  }, [repositorios]);\n\n  const handleSubmit = useCallback((e)=>{\n    e.preventDefault();\n\n    async function submit(){\n      setLoading(true);\n      setAlert(null);\n      try{\n\n        if(newRepo === ''){\n          throw new Error('Você precisa indicar um repositorio!');\n        }\n\n        const response = await api.get(`repos/${newRepo}`);\n\n        const hasRepo = repositorios.find(repo => repo.name === newRepo);\n\n        if(hasRepo){\n          throw new Error('Repositorio Duplicado');\n        }\n  \n        const data = {\n          name: response.data.full_name,\n        }\n    \n        setRepositorios([...repositorios, data]);\n        setNewRepo('');\n      }catch(error){\n        setAlert(true);\n        console.log(error);\n      }finally{\n        setLoading(false);\n      }\n\n    }\n\n    submit();\n\n  }, [newRepo, repositorios]);\n\n  function handleinputChange(e){\n    setNewRepo(e.target.value);\n    setAlert(null);\n  }\n\n  const handleDelete = useCallback((repo)=> {\n    const find = repositorios.filter(r => r.name !== repo);\n    setRepositorios(find);\n  }, [repositorios]);\n\n\n  return(\n    <Container>\n      \n      <h1>\n        <FaGithub size={25}/>\n        Meus Repositorios\n      </h1>\n\n      <Form onSubmit={handleSubmit} error={alert}>\n        <input \n        type=\"text\" \n        placeholder=\"Adicionar Repositorios\"\n        value={newRepo}\n        onChange={handleinputChange}\n        />\n\n        <SubmitButton loading={loading ? 1 : 0}>\n          {loading ? (\n            <FaSpinner color=\"#FFF\" size={14}/>\n          ) : (\n            <FaPlus color=\"#FFF\" size={14}/>\n          )}\n        </SubmitButton>\n\n      </Form>\n\n      <List>\n         {repositorios.map(repo => (\n           <li key={repo.name}>\n             <span>\n             <DeleteButton onClick={()=> handleDelete(repo.name) }>\n                <FaTrash size={14}/>\n             </DeleteButton>  \n             {repo.name}\n             </span>\n             <Link to={`/repositorio/${encodeURIComponent(repo.name)}`}>\n               <FaBars size={20}/>\n             </Link>\n           </li>\n         ))} \n      </List>\n\n    </Container>\n  )\n}"]},"metadata":{},"sourceType":"module"}